<marlin xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ilcsoft.desy.de/marlin/marlin.xsd">
  <execute>

    
    <processor name="MyAIDAProcessor" />
    <processor name="InitDD4hep" />

    <!--
    <processor name="VXDBarrelDigitiser" />
    <processor name="VXDEndcapDigitiser" />
    <processor name="InnerPlanarDigiProcessor" />
    <processor name="InnerEndcapPlanarDigiProcessor" />
    <processor name="OuterPlanarDigiProcessor" />
    <processor name="OuterEndcapPlanarDigiProcessor" /> 
-->
<!--
    <processor name="MyTruthTrackFinder" />
    <processor name="MyClicEfficiencyCalculator" />
    <processor name="MyRecoMCTruthLinker" />
    <processor name="MyTrackChecker" />
-->

    <processor name="MyHitAnalysis"/>
    <Xprocessor name="MyLumiCalAnalysis"/>
    <Xprocessor name="MyHelixGymnastics"/>

    <!--processor name="MyLCIOOutputProcessor" /-->


  </execute>
 
  <global>
    <!--verbosity changed--><!--MaxRecordNumber changed--><!--input file list changed--><!--parameter name="LCIOInputFiles">SIM_test_FCCee_o5_v02_40_Mom_5.slcio</parameter-->
    <parameter name="LCIOInputFiles">
      /afs/cern.ch/work/v/voutsina/guineapig++/guinea-pig.r3238/data/PairsZ/BeamParTest/Pairs/Geometry/FCCee_o1_v04/test_ITE.slcio
    </parameter>

    <parameter name="MaxRecordNumber" value="0" />
    <parameter name="SkipNEvents" value="0" />
    <parameter name="SupressCheck" value="false" />  
    <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">MESSAGE</parameter>
    <parameter name="RandomSeed" value="1234567890" />
  </global>

  <processor name="MyAIDAProcessor" type="AIDAProcessor">
    
    <parameter name="Compress" type="int" value="1" />
    
    <parameter name="FileName" type="string" value="test_ITE"/>
    
    <parameter name="FileType" type="string" value="root " />
  </processor>

  
  <processor name="InitDD4hep" type="InitializeDD4hep">
    <parameter name="EncodingStringParameter"> GlobalTrackerReadoutID </parameter>   
    
    
    <parameter name="DD4hepXMLFile" type="string"> /afs/cern.ch/work/v/voutsina/guineapig++/guinea-pig.r3238/data/PairsZ/BeamParTest/Pairs/Geometry/FCCee_o1_v04/FCCee_o1_v04_upd_100519.xml  </parameter>    
    <!--parameter name="DD4hepXMLFile" type="string">/afs/cern.ch/user/v/voutsina/Work/testarea/CodeDvt/lcgeo/FCCee/compact/FCCee_o1_v02/FCCee_o1_v02_fieldMap.xml   </parameter-->
    <!--parameter name="DD4hepXMLFile" type="string"> /afs/cern.ch/user/v/voutsina/Work/testarea/CodeTest/lcgeo/HEAD/CLIC/compact/CLIC_o3_v08/CLIC_o3_v08_test.xml</parameter-->
    <!--parameter name="DD4hepXMLFile" type="string"> /afs/cern.ch/user/v/voutsina/Work/testarea/CodeTest/lcgeo/HEAD/FCCee/FCCee_o5_v04/FCCee_o5_v04.xml </parameter-->
    <parameter name="Verbosity" type="string"> WARNING </parameter>


  </processor>
 
  <processor name="VXDBarrelDigitiser" type="DDPlanarDigiProcessor">
    <parameter name="SubDetectorName" type="string">Vertex </parameter>
    
    <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
    <parameter name="ForceHitsOntoSurface" type="bool">true </parameter>
    
    <parameter name="IsStrip" type="bool">false </parameter>
    
    <parameter name="ResolutionU" type="float"> 0.003 0.003 0.003 0.003 0.003 0.003 </parameter>
    
    <parameter name="ResolutionV" type="float"> 0.003 0.003 0.003 0.003 0.003 0.003  </parameter>
    
    <parameter lcioInType="SimTrackerHit" name="SimTrackHitCollectionName" type="string">VertexBarrelCollection </parameter>
    
    <parameter lcioOutType="LCRelation" name="SimTrkHitRelCollection" type="string">VXDTrackerHitRelations </parameter>
    
    <parameter lcioOutType="TrackerHitPlane" name="TrackerHitCollectionName" type="string">VXDTrackerHits </parameter>
    
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  <processor name="VXDEndcapDigitiser" type="DDPlanarDigiProcessor">
    <parameter name="SubDetectorName" type="string">Vertex </parameter>
    
     <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
    <parameter name="ForceHitsOntoSurface" type="bool">true </parameter>
   
    <parameter name="IsStrip" type="bool">false </parameter>
    
    <parameter name="ResolutionU" type="float"> 0.003 0.003 0.003 0.003 0.003 0.003 </parameter>
    
    <parameter name="ResolutionV" type="float"> 0.003 0.003 0.003 0.003 0.003 0.003  </parameter>
    
    <parameter lcioInType="SimTrackerHit" name="SimTrackHitCollectionName" type="string">VertexEndcapCollection </parameter>
    
    <parameter lcioOutType="LCRelation" name="SimTrkHitRelCollection" type="string">VXDEndcapTrackerHitRelations </parameter>
    
    <parameter lcioOutType="TrackerHitPlane" name="TrackerHitCollectionName" type="string">VXDEndcapTrackerHits </parameter>
    
    <parameter name="Verbosity" type="string">WARNING </parameter>
  </processor>

  <processor name="InnerPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    
    <parameter name="SubDetectorName" type="string"> InnerTrackers </parameter>

    <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
    <parameter name="ForceHitsOntoSurface" type="bool">true </parameter>
    
    <parameter name="IsStrip" type="bool"> false </parameter>
    
    <parameter name="ResolutionU" type="float">0.007 </parameter> 
    
    <parameter name="ResolutionV" type="float">0.3 </parameter>  
    
    <parameter lcioInType="SimTrackerHit" name="SimTrackHitCollectionName" type="string"> InnerTrackerBarrelCollection </parameter>
    
    <parameter lcioOutType="LCRelation" name="SimTrkHitRelCollection" type="string">InnerTrackerBarrelHitsRelations </parameter>
    
    <parameter lcioOutType="TrackerHitPlane" name="TrackerHitCollectionName" type="string">ITrackerHits </parameter>
    
    <parameter name="Verbosity" type="string">WARNING </parameter>
  </processor>

  <processor name="InnerEndcapPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    
    <parameter name="SubDetectorName" type="string"> InnerTrackers </parameter>

    <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
    <parameter name="ForceHitsOntoSurface" type="bool">true </parameter>
    
    <parameter name="IsStrip" type="bool"> false </parameter>
    
    <parameter name="ResolutionV" type="float"> 0.003 0.007 0.007 0.007 0.007 0.007 0.007</parameter>
    
    <parameter name="ResolutionU" type="float"> 0.003 0.3 0.3 0.3 0.3 0.3 0.3</parameter>
    
    <parameter lcioInType="SimTrackerHit" name="SimTrackHitCollectionName" type="string"> InnerTrackerEndcapCollection </parameter>
    
    <parameter lcioOutType="LCRelation" name="SimTrkHitRelCollection" type="string">InnerTrackerEndcapHitsRelations </parameter>
    
    <parameter lcioOutType="TrackerHitPlane" name="TrackerHitCollectionName" type="string">ITrackerEndcapHits </parameter>
    
    <parameter name="Verbosity" type="string">WARNING </parameter>
  </processor>

  <processor name="OuterPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    
    <parameter name="SubDetectorName" type="string"> OuterTrackers </parameter>

    <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
    <parameter name="ForceHitsOntoSurface" type="bool">true </parameter>
    
    <parameter name="IsStrip" type="bool"> false </parameter>
    
    <parameter name="ResolutionU" type="float"> 0.007 0.007 0.007</parameter>
    
    <parameter name="ResolutionV" type="float"> 1.5 3.0 3.0 </parameter>
    
    <parameter lcioInType="SimTrackerHit" name="SimTrackHitCollectionName" type="string">OuterTrackerBarrelCollection </parameter>
    
    <parameter lcioOutType="LCRelation" name="SimTrkHitRelCollection" type="string">OuterTrackerBarrelHitsRelations </parameter>
    
    <parameter lcioOutType="TrackerHitPlane" name="TrackerHitCollectionName" type="string">OTrackerHits </parameter>
    
    <parameter name="Verbosity" type="string">WARNING </parameter>
  </processor>

  <processor name="OuterEndcapPlanarDigiProcessor" type="DDPlanarDigiProcessor">
    
    <parameter name="SubDetectorName" type="string"> OuterTrackers </parameter>

    <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
    <parameter name="ForceHitsOntoSurface" type="bool">true </parameter>
    
    <parameter name="IsStrip" type="bool"> false </parameter>
    
    <parameter name="ResolutionV" type="float"> 0.007 0.007 0.007 0.007 0.007 </parameter>
    
    <parameter name="ResolutionU" type="float"> 3.0 3.0 3.0 3.0 3.0 </parameter>
    
    <parameter lcioInType="SimTrackerHit" name="SimTrackHitCollectionName" type="string">OuterTrackerEndcapCollection </parameter>
    
    <parameter lcioOutType="LCRelation" name="SimTrkHitRelCollection" type="string">OuterTrackerEndcapHitsRelations </parameter>
    
    <parameter lcioOutType="TrackerHitPlane" name="TrackerHitCollectionName" type="string">OTrackerEndcapHits </parameter>
    
    <parameter name="Verbosity" type="string">WARNING </parameter>
  </processor>

  
  <processor name="MyTruthTrackFinder" type="TruthTrackFinder">
    <parameter name="FitForward" type="bool">true</parameter>
    
    <parameter lcioInType="TrackerHitPlane" name="TrackerHitCollectionNames" type="StringVec">VXDTrackerHits ITrackerHits OTrackerHits VXDEndcapTrackerHits ITrackerEndcapHits OTrackerEndcapHits</parameter>
    <parameter lcioInType="LCRelation" name="SimTrackerHitRelCollectionNames" type="StringVec">VXDTrackerHitRelations InnerTrackerBarrelHitsRelations OuterTrackerBarrelHitsRelations VXDEndcapTrackerHitRelations InnerTrackerEndcapHitsRelations OuterTrackerEndcapHitsRelations</parameter>
    <parameter name="Verbosity" type="string">WARNING </parameter>
  </processor>

  
  <processor name="MyConformalTracking" type="ConformalTracking">
    <parameter lcioInType="TrackerHitPlane" name="TrackerHitCollectionNames" type="StringVec"> VXDTrackerHits VXDEndcapTrackerHits </parameter>
    <parameter lcioInType="LCRelation" name="RelationsNames" type="StringVec"> VXDTrackerHitRelations VXDEndcapTrackerHitRelations </parameter>
    <parameter lcioOutType="Track" name="SiTrackCollectionName" type="string"> CATracksModified </parameter>
    <parameter name="ThetaRange" type="double"> 0.025 </parameter>
    <parameter name="MaxCellAngle" type="double"> 0.06 </parameter>
    <parameter name="MaxDistance" type="double"> 0.02 </parameter>
    <parameter name="MinClustersOnTrack" type="int"> 4 </parameter>
    <parameter name="MaxChi2" type="double">1000 </parameter>
    
    <parameter name="Verbosity" type="string"> MESSAGE </parameter>
  </processor>

  
  <processor name="MyExtrToTracker" type="ExtrToTracker">
    
    
    <parameter name="Max_Chi2_Incr" type="double">10 </parameter>
    
    <parameter lcioInType="Track" name="InputTrackCollectionName" type="string">CATracksModified </parameter>
    
    <parameter lcioOutType="Track" name="OutputTrackCollectionName" type="string">SiTracks </parameter>
    
    <parameter lcioInType="TrackerHitPlane" name="vecDigiHits" type="StringVec">ITrackerHits OTrackerHits ITrackerEndcapHits OTrackerEndcapHits  </parameter>
    
    <parameter name="vecSubdetName" type="StringVec">InnerTrackerBarrel OuterTrackerBarrel InnerTrackerEndcap OuterTrackerEndcap  </parameter>
    
    <parameter lcioOutType="TrackerHitPlane" name="OutputNotUsedHitCollectionName" type="string">NotUsedHits </parameter>
    
    <parameter name="PerformFinalRefit" type="bool">false </parameter>
    
    <parameter name="EnergyLossOn" type="bool">true </parameter>
    
    <parameter name="MultipleScatteringOn" type="bool">true </parameter>
    
    <parameter name="SmoothOn" type="bool">false </parameter>
    
    <parameter name="SearchSigma" type="double">3 </parameter> 
    
    
    <parameter name="Verbosity" type="string"> WARNING </parameter>
  </processor>

  <processor name="MyRecoMCTruthLinker" type="RecoMCTruthLinker">
    
    
    <parameter name="BremsstrahlungEnergyCut" type="float">1 </parameter>
    
    <parameter lcioOutType="LCRelation" name="CalohitMCTruthLinkName" type="string"> CalohitMCTruthLink </parameter>
    
    <parameter lcioInType="Cluster" name="ClusterCollection" type="string">PandoraClusters </parameter>
    
    <parameter lcioOutType="LCRelation" name="ClusterMCTruthLinkName" type="string"> ClusterMCTruthLink </parameter>
    
    <parameter name="FullRecoRelation" type="bool">false </parameter>
    
    <parameter name="InvertedNonDestructiveInteractionLogic" type="bool"> false </parameter>
    
    
    <parameter name="KeepDaughtersPDG" type="IntVec">22 111 310 13 211 321 3120 </parameter>
    
    <parameter lcioInType="MCParticle" name="MCParticleCollection" type="string"> MCParticle </parameter>
    
    <parameter lcioOutType="MCParticle" name="MCParticlesSkimmedName" type="string"> MCParticlesSkimmed </parameter>
    
    <parameter lcioOutType="LCRelation" name="MCTruthClusterLinkName" type="string"> </parameter>
    
    <parameter lcioOutType="LCRelation" name="MCTruthRecoLinkName" type="string"> </parameter>
    
    <parameter lcioOutType="LCRelation" name="MCTruthTrackLinkName" type="string"> </parameter>
    
    <parameter lcioOutType="LCRelation" name="RecoMCTruthLinkName" type="string"> RecoMCTruthLink </parameter>
    
    <parameter lcioInType="ReconstructedParticle" name="RecoParticleCollection" type="string"> PandoraPFOs </parameter>
    
    <parameter name="SaveBremsstrahlungPhotons" type="bool">false </parameter>
    
    <parameter lcioInType="SimCalorimeterHit" name="SimCaloHitCollections" type="StringVec">
      ECalBarrelCollection
      ECalEndcapCollection
      ECalPlugCollection
      HCalBarrelCollection
      HCalEndcapCollection
      HCalRingCollection
      YokeBarrelCollection
      YokeEndcapCollection
      LumiCalCollection
      BeamCalCollection
    </parameter>
    
    <parameter lcioInType="LCRelation" name="SimCalorimeterHitRelationNames" type="StringVec">
      RelationCaloHit RelationMuonHit
    </parameter>
    
    <parameter lcioInType="SimTrackerHit" name="SimTrackerHitCollections" type="StringVec">
      VertexBarrelCollection
      VertexEndcapCollection
      InnerTrackerBarrelCollection
      OuterTrackerBarrelCollection
      InnerTrackerEndcapCollection
      OuterTrackerEndcapCollection
    </parameter>
    
    <parameter lcioInType="Track" name="TrackCollection" type="string"> SiTracks </parameter>
    
    <parameter lcioOutType="LCRelation" name="TrackMCTruthLinkName" type="string"> SiTracksMCTruthLink </parameter>
    
    <parameter lcioInType="LCRelation" name="TrackerHitsRelInputCollections" type="StringVec">
      VXDTrackerHitRelations
      VXDEndcapTrackerHitRelations
      InnerTrackerBarrelHitsRelations
      OuterTrackerBarrelHitsRelations
      InnerTrackerEndcapHitsRelations
      OuterTrackerEndcapHitsRelations
    </parameter>
    
    <parameter name="UseTrackerHitRelations" type="bool"> true </parameter>
    
    <parameter name="UsingParticleGun" type="bool"> false </parameter>
    
    <parameter name="Verbosity" type="string"> WARNING </parameter>
    
    <parameter name="daughtersECutMeV" type="float"> 10 </parameter>
  </processor>

  <processor name="MyTrackChecker" type="TrackChecker">
    
    
    <parameter lcioInType="MCParticle" name="MCParticleCollectionName" type="string">MCParticle </parameter>
    
    <parameter lcioInType="Track" name="TrackCollectionName" type="string">SiTracks </parameter>
    
    <parameter lcioInType="LCRelation" name="TrackRelationCollectionName" type="string">SiTracksMCTruthLink </parameter>
    
    <parameter name="TreeName" type="string">checktree </parameter>
    
    <parameter name="UseOnlyTree" type="bool">true </parameter>  
    
    
  </processor>

    
<processor name="MyClicEfficiencyCalculator" type="ClicEfficiencyCalculator">
    
    
    <parameter name="efficiencyTreeName" type="string">trktree </parameter>
    
    <parameter name="purityTreeName" type="string">puritytree </parameter>
    
    <parameter name="mcTreeName" type="string">mctree </parameter>   
    
    <parameter lcioInType="Track" name="TrackCollectionName" type="string">SiTracks </parameter>
    
    <parameter lcioInType="TrackerHitPlane" name="TrackerHitCollectionNames" type="StringVec"> VXDTrackerHits VXDEndcapTrackerHits ITrackerHits OTrackerHits ITrackerEndcapHits OTrackerEndcapHits  </parameter>
    
    <parameter lcioInType="LCRelation" name="TrackerHitRelCollectionNames" type="StringVec"> VXDTrackerHitRelations VXDEndcapTrackerHitRelations InnerTrackerBarrelHitsRelations OuterTrackerBarrelHitsRelations InnerTrackerEndcapHitsRelations OuterTrackerEndcapHitsRelations </parameter>
    
    <parameter lcioInType="MCParticle" name="MCParticleCollectionName" type="string">MCParticle </parameter>
    
    <parameter lcioOutType="MCParticle" name="EfficientMCParticleCollectionName" type="string">MCParticleReco </parameter>
    <parameter lcioOutType="MCParticle" name="InefficientMCParticleCollectionName" type="string">MCParticleNotReco </parameter>
    
    <parameter name="debugPlots" type="bool">true </parameter>
    
    <parameter name="reconstructableDefinition" type="string">ILDLike </parameter>
    <parameter name="simpleOutput" type="bool">true </parameter>
    <parameter name="Verbosity" type="string"> DEBUG </parameter>
    
  </processor>

  <processor name="MyLCIOOutputProcessor" type="LCIOOutputProcessor">
    
    <parameter name="LCIOOutputFile" type="string"> sitracks_muons.slcio </parameter>
    <parameter name="FullSubsetCollections" type="StringVec"> EfficientMCParticles InefficientMCParticles </parameter>
    <parameter name="LCIOWriteMode" type="string" value="WRITE_NEW" />
    <parameter name="Verbosity" type="string">WARNING </parameter>
  </processor>


 <processor name="MyHitAnalysis" type="HitAnalysis">
  <!--Name of the VTX barrel SimTrackerHit collection-->
  <parameter name="VTXBarrelCollectionName" type="string" lcioInType="SimTrackerHit"> VertexBarrelCollection </parameter>
  <!--Name of the VTX endcaps SimTrackerHit collection-->
  <parameter name="VTXEndcapCollectionName" type="string" lcioInType="SimTrackerHit"> VertexEndcapCollection </parameter>
  <!--Name of the inner tracker barrel SimTrackerHit collection-->
  <parameter name="InnerTrackerBarrelCollectionName" type="string" lcioInType="SimTrackerHit"> InnerTrackerBarrelCollection </parameter>
  <!--Name of the inner tracker endcaps SimTrackerHit collection-->
  <parameter name="InnerTrackerEndcapCollectionName" type="string" lcioInType="SimTrackerHit"> InnerTrackerEndcapCollection </parameter>
  <!--Name of the outer tracker barrel SimTrackerHit collection-->
  <parameter name="OuterTrackerBarrelCollectionName" type="string" lcioInType="SimTrackerHit"> OuterTrackerBarrelCollection </parameter>
  <!--Name of the outer tracker endcaps SimTrackerHit collection-->
  <parameter name="OuterTrackerEndcapCollectionName" type="string" lcioInType="SimTrackerHit"> OuterTrackerEndcapCollection </parameter>
  <!--Name of the inner tracker endcaps SimTrackerHit collection-->
  <parameter name="StudiedTracks" type="string" lcioInType="Track"> SiTracks  </parameter>
  <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
  <parameter name="Verbosity" type="string"> MESSAGE </parameter>
</processor>

 <processor name="MyLumiCalAnalysis" type="LumiCalAnalysis">
   <!--Name of the MCParticle input collection-->
  <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle"> MCParticle </parameter>
  <!--Name of the LumiCal sim hit input collection-->
  <parameter name="LumiCalCollection" type="string" lcioInType="SimCalorimeterHit"> LumiCalCollection </parameter>
  <!--Name of the reconstructed particles input collection-->
  <parameter name="RecoParticlesCollection" type="string" lcioInType="ReconstructedParticle"> LumiCalRecoParticles </parameter>
  <!--Name of the clusters input collection-->
  <parameter name="LumiCalClusterCollection" type="string" lcioInType="Cluster"> LumiCalClusters </parameter>
  <!--Half crossing angle-->
  <parameter name="XAngle" type="double">0.015 </parameter>
</processor>

 <processor name="MyHelixGymnastics" type="HelixGymnastics">
   <!--Name of the MCParticle input collection-->
  <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle"> MCParticle </parameter>
</processor>

</marlin>
